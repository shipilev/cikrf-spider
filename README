ПАУК ДЛЯ СБОРА ДАННЫХ С САЙТА ЦИК РФ
-------------------------------------------------------------------------------------

To best of my knowledge, в нём отсутствуют баги, но это не означает, что их там нет.
Для сборки и запуска вам потребуется Java 6 и Maven.

Краткая инструкция:
 $ cd cik-spider/
 $ mvn clean install

Бинарные билды доступны здесь:
 http://shipilev.net/builds/cikrf-spider/

*** СКАЧИВАНИЕ ДАННЫХ ***

  Робот ходит по сайту ЦИКа и сваливает страницы первого/второго/третьего уровня
  в download/. Сами страницы представляют собой чистый HTML, так что при подозрении
  на ошибку в парсере, можно на них пристально посмотреть.

  Запуск паука для сбора:
    $ java -jar target/cikrf-spider.jar

  При запуске с "-h" можно увидеть настройки, если приспичит что-нибудь менять.
  Вам нужно будет указать корневой URL (основную страницу выборов на сайте ЦИК) для
  конкретных выборов. Может быть, по умолчанию, уже стоит правильная страница.

  Не скачивайте данные, если вам это не сильно нужно; сайт ЦИКа нежный и лишних
  электромагнитных воздействий не любит. Лучше найдите их в архивах, например, здесь:
    http://shipilev.net/pub/articles/elections2011/
    http://shipilev.net/pub/articles/elections2012/cik-r1/

  Можете взять уже скачанные страницы, посмотрите выше в разделе "ДАННЫЕ".

*** РАЗБОР ДАННЫХ ***

  Вторая часть робота берёт скачанные страницы и парсит их в CSV.

  Запуск:
    $ java -jar target/cikrf-parser.jar

  Опять же, парсеру можно переопределить место, куда генерить CSV.
  Воспользуйтесь "-h".

  Оно разродится несколькими CSV'шками, с разной степенью детализации:
    output-ciks.csv: данные с главной страницы
    output-tiks.csv: данные со страниц первого уровня (т.е. ТИКов)
    output-uiks-s.csv: данные со страниц второго уровня (т.е. сумм по УИКам)
    output-uiks.csv: данные со страниц третьего уровня (т.е. данных по отдельным УИКам)

  Парсер также печатает суммы, чтобы выявить ошибки скачивания и парсинга, в summary.log.